(function(t){function e(e){for(var n,r,o=e[0],c=e[1],l=e[2],p=0,_=[];p<o.length;p++)r=o[p],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&_.push(i[r][0]),i[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(_.length)_.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(n=!1)}n&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},i={app:0},s=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"040d":function(t,e,a){t.exports=a.p+"img/mfc-icon-green.svg"},"09ed":function(t,e,a){},"0d3f":function(t,e,a){"use strict";var n=a("62b8"),i=a.n(n);i.a},"1ab1":function(t,e,a){t.exports=a.p+"img/image 2.svg"},"1cb9":function(t,e,a){"use strict";var n=a("8849"),i=a.n(n);i.a},2280:function(t,e,a){t.exports=a.p+"img/mfc-icon-yellow.svg"},2793:function(t,e,a){"use strict";var n=a("761d"),i=a.n(n);i.a},"2f2b":function(t,e,a){"use strict";var n=a("7874"),i=a.n(n);i.a},3255:function(t,e,a){},"328f":function(t,e,a){"use strict";var n=a("42ab"),i=a.n(n);i.a},"32a2":function(t,e,a){"use strict";var n=a("09ed"),i=a.n(n);i.a},"37d7":function(t,e,a){},"38bd":function(t,e,a){"use strict";var n=a("37d7"),i=a.n(n);i.a},"42ab":function(t,e,a){},"42ba":function(t,e,a){},4523:function(t,e,a){t.exports=a.p+"img/mfc-logo-full.svg"},"496d":function(t,e,a){},"4bec":function(t,e,a){"use strict";var n=a("9b85"),i=a.n(n);i.a},"4cb1":function(t,e,a){"use strict";var n=a("911c"),i=a.n(n);i.a},"52b6":function(t,e,a){t.exports=a.p+"img/mfc-icon-red.svg"},5428:function(t,e,a){},"54d7":function(t,e,a){"use strict";var n=a("5428"),i=a.n(n);i.a},"54f0":function(t,e,a){"use strict";var n=a("496d"),i=a.n(n);i.a},5963:function(t,e,a){"use strict";var n=a("9009"),i=a.n(n);i.a},"5b3b":function(t,e,a){t.exports=a.p+"img/mfc-logo.svg"},"5c0b":function(t,e,a){"use strict";var n=a("9c0c"),i=a.n(n);i.a},"62b8":function(t,e,a){},6568:function(t,e,a){"use strict";var n=a("e12e"),i=a.n(n);i.a},"6e21":function(t,e,a){"use strict";var n=a("c7ba"),i=a.n(n);i.a},"6e25":function(t,e,a){},"6f88":function(t,e,a){t.exports=a.p+"img/car-icon.svg"},"761d":function(t,e,a){},7874:function(t,e,a){},"7a21":function(t,e,a){},"7ac0":function(t,e,a){"use strict";var n=a("42ba"),i=a.n(n);i.a},"7b84":function(t,e,a){"use strict";var n=a("ec40"),i=a.n(n);i.a},8093:function(t,e,a){t.exports=a.p+"img/logo_bot 2.png"},8849:function(t,e,a){},"8a2f":function(t,e,a){"use strict";var n=a("6e25"),i=a.n(n);i.a},"8b1b":function(t,e,a){},9009:function(t,e,a){},"911c":function(t,e,a){},"937c":function(t,e,a){},"9b85":function(t,e,a){},"9c0c":function(t,e,a){},b480:function(t,e,a){t.exports=a.p+"img/arrow-right-icon.svg"},b5cc:function(t,e,a){"use strict";var n=a("f4ce"),i=a.n(n);i.a},bdd2:function(t,e,a){t.exports=a.p+"img/human-icon.svg"},c295:function(t,e,a){"use strict";var n=a("7a21"),i=a.n(n);i.a},c7ba:function(t,e,a){},cd49:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},s=[],r=(a("5c0b"),a("2877")),o={},c=Object(r["a"])(o,i,s,!1,null,null,null),l=c.exports,u=a("8c4f"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[0!==t.screen||t.hasCachedData?1!==t.screen||t.hasCachedData?2!==t.screen||t.hasCachedData?3!==t.screen||t.hasCachedData?n("section",{class:["screen",4===t.screen||t.hasCachedData?"active":""]},[t.isUILocked?n("section",{key:t.isUILocked,staticStyle:{width:"100%","z-index":"100"}},[n("BasePreloader")],1):t._e(),n("section",{staticStyle:{width:"100%",display:"flex","flex-direction":"column","align-items":"center"}},[n("ScreenComputedResult",{on:{showModal:t.showModal}}),n("ScreenOtherOptions")],1)]):n("section",{key:t.screen,class:["screen",3===t.screen?"active":""]},[n("ScreenSelectService")],1):n("section",{key:t.screen,class:["screen",2===t.screen?"active":""]},[n("ScreenSelectTravelWay")],1):n("section",{key:t.screen,class:["screen",1===t.screen?"active":""]},[n("ScreenSelectDeparturePoint")],1):n("section",{key:t.screen,class:["screen",0===t.screen?"active":""]},[n("ScreenHome"),n("img",{staticClass:"mfc-logo",attrs:{src:a("5b3b"),alt:"Лого МФЦ"}})],1)]),n("transition",{attrs:{name:"fade",mode:"out-in"}},[t.isMainModalVisible?n("ModalChangeSelectionOptions",{on:{selectModal:t.selectModal,closeModal:t.closeModal}}):"departure-point"===t.activeModal?n("ModalChangeDeparturePoint",{key:t.activeModal,on:{closeModal:t.closeModal}}):"travel-way"===t.activeModal?n("ModalChangeTravelWay",{key:t.activeModal,on:{closeModal:t.closeModal}}):"service"===t.activeModal?n("ModalChangeService",{key:t.activeModal,on:{closeModal:t.closeModal}}):t._e()],1)],1)},_=[],d=a("d4ec"),v=a("bee2"),f=a("2caf"),b=a("262e"),m=a("9ab4"),h=a("60a3"),g=a("4bb5"),O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"screen-inner"},[a("MFCLogo"),a("section",{staticClass:"screen-inner__info"},[t._m(0),t._m(1),a("div",{staticClass:"button-group"},[a("NextButton")],1)])],1)},y=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("h1",{staticClass:"title__text"},[t._v(" Загруженность "),a("br"),t._v(" МФЦ ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"description"},[a("h2",{staticClass:"description__text"},[t._v("Здесь вы можете узнать, какое "),a("span",{staticClass:"orange"},[t._v("отделение мфц")]),t._v(" будет наиболее удобным для вас в данный момент")])])}],j=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},C=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"logo"},[n("div",{staticClass:"logo__list"},[n("div",{staticClass:"logo__item"},[n("img",{staticClass:"logo__item__first",attrs:{src:a("1ab1"),alt:""}})]),n("div",{staticClass:"logo__item"},[n("img",{staticClass:"logo__item__second",attrs:{src:a("8093"),alt:""}})])])])}],k={name:"MFCLogo"},w=k,x=(a("4cb1"),Object(r["a"])(w,j,C,!1,null,"25dfc9f3",null)),M=x.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"button",attrs:{disabled:t.isDisabled},on:{click:t.increaseScreen}},[t._v("Далее")])},P=[],D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._t("default")],2)},$=[],W=function(t){Object(b["a"])(a,t);var e=Object(f["a"])(a);function a(){return Object(d["a"])(this,a),e.apply(this,arguments)}return a}(h["c"]);Object(m["a"])([Object(h["b"])({type:Boolean,required:!1})],W.prototype,"isDisabled",void 0),W=Object(m["a"])([h["a"]],W);var I=W,E=I,T=(a("ecd5"),Object(r["a"])(E,D,$,!1,null,"1382097c",null)),B=T.exports,R=function(t){Object(b["a"])(a,t);var e=Object(f["a"])(a);function a(){return Object(d["a"])(this,a),e.apply(this,arguments)}return a}(B);Object(m["a"])([g["c"]],R.prototype,"increaseScreen",void 0),R=Object(m["a"])([h["a"]],R);var N=R,L=N,z=(a("f858"),Object(r["a"])(L,S,P,!1,null,"6f624db0",null)),A=z.exports,U=function(t){Object(b["a"])(a,t);var e=Object(f["a"])(a);function a(){return Object(d["a"])(this,a),e.apply(this,arguments)}return a}(h["c"]);U=Object(m["a"])([Object(h["a"])({components:{MFCLogo:M,NextButton:A}})],U);var G=U,q=G,F=(a("1cb9"),Object(r["a"])(q,O,y,!1,null,"0e895b4d",null)),V=F.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"screen-inner"},[a("MFCLogo"),a("section",{staticClass:"screen-inner__info"},[t._m(0),a("div",{staticClass:"input-section"},[a("BaseInputWithAutocomplete",{attrs:{value:t.inputValue},on:{select:t.changeDeparturePoint}})],1),a("div",{staticClass:"button-group"},[a("PrevButton"),a("NextButton")],1)])],1)},H=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("h2",{staticClass:"title__text"},[t._v(" Откуда вы планируете добираться? ")])])}],K=(a("99af"),a("a15b"),a("fb6a"),a("d3b7"),a("ac1f"),a("1276"),a("96cf"),a("1da1")),Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-placeholder"},[n("img",{staticClass:"input__icon",attrs:{src:a("d702"),alt:"Поиск"}}),n("gmap-autocomplete",{staticClass:"input",attrs:{componentRestrictions:{country:"ru"},value:t.value},on:{place_changed:t.getAddressData}},[n("BaseInput",{ref:"input"})],1)],1)},Y=[],X=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Z=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-placeholder"},[n("img",{staticClass:"input__icon",attrs:{src:a("d702"),alt:"Поиск"}}),n("input",{attrs:{type:"text"}})])}],tt=function(t){Object(b["a"])(a,t);var e=Object(f["a"])(a);function a(){return Object(d["a"])(this,a),e.apply(this,arguments)}return a}(h["c"]);tt=Object(m["a"])([h["a"]],tt);var et=tt,at=et,nt=(a("7b84"),Object(r["a"])(at,X,Z,!1,null,"7135ef32",null)),it=nt.exports,st=function(t){Object(b["a"])(a,t);var e=Object(f["a"])(a);function a(){return Object(d["a"])(this,a),e.apply(this,arguments)}return Object(v["a"])(a,[{key:"getAddressData",value:function(t){var e,a;console.log("getAddressData result",t),void 0!==t.address_components&&this.$emit("select",{name:[t.address_components[0].short_name,t.address_components[2].short_name].join(", "),position:{lat:null===(e=t.geometry)||void 0===e?void 0:e.location.lat(),lng:null===(a=t.geometry)||void 0===a?void 0:a.location.lng()}})}}]),a}(h["c"]);Object(m["a"])([Object(h["b"])({type:String,required:!1})],st.prototype,"value",void 0),st=Object(m["a"])([Object(h["a"])({components:{BaseInput:it}})],st);var rt=st,ot=rt,ct=(a("6568"),Object(r["a"])(ot,Q,Y,!1,null,"324a2c7a",null)),lt=ct.exports,ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"datalist-placeholder"},[n("div",{staticClass:"input-placeholder"},[n("img",{staticClass:"input__icon",attrs:{src:a("d702"),alt:"Поиск"}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.currentOption,expression:"currentOption"}],ref:"input",staticClass:"input",attrs:{type:"text",placeholder:t.placeholder,disabled:t.isDisabled},domProps:{value:t.currentOption},on:{input:[function(e){e.target.composing||(t.currentOption=e.target.value)},t.updateData],click:function(e){t.isActive=!0}}})]),n("ul",{ref:"datalist",class:["datalist",t.isActive?"active":""]},t._l(t.activeOptions,(function(e,a){return n("li",{key:a,staticClass:"datalist__item",on:{click:t.changeActive}},[t._v(t._s(e)+" ")])})),0)])},pt=[],_t=(a("4de4"),a("caad"),a("2532"),function(t){Object(b["a"])(a,t);var e=Object(f["a"])(a);function a(){var t;return Object(d["a"])(this,a),t=e.apply(this,arguments),t.activeOptions=t.data,t.isActive=!1,t.currentOption=t.data[0],t}return Object(v["a"])(a,[{key:"onDataChange",value:function(t,e){t.length!==e.length&&(this.activeOptions=this.data,this.currentOption=this.data[0])}},{key:"mounted",value:function(){var t=this;this.$emit("select",this.currentOption),document.addEventListener("click",(function(e){t.isActive&&e.target!==t.$refs.datalist&&e.target!==t.$refs.input&&(t.isActive=!1)}))}},{key:"updateData",value:function(){var t=this;this.activeOptions=this.data.filter((function(e){return e.includes(t.currentOption)})),this.isActive=!0}},{key:"changeActive",value:function(t){var e=t.target.textContent;void 0!==e&&null!==e&&(this.currentOption=e,this.$emit("select",this.currentOption))}}]),a}(h["c"]));Object(m["a"])([Object(h["b"])({type:String,required:!0})],_t.prototype,"name",void 0),Object(m["a"])([Object(h["b"])({type:Array,required:!0})],_t.prototype,"data",void 0),Object(m["a"])([Object(h["b"])({type:String,required:!1})],_t.prototype,"placeholder",void 0),Object(m["a"])([Object(h["b"])({type:Boolean,required:!1})],_t.prototype,"isDisabled",void 0),Object(m["a"])([Object(h["d"])("data")],_t.prototype,"onDataChange",null),_t=Object(m["a"])([h["a"]],_t);var dt=_t,vt=dt,ft=(a("2f2b"),Object(r["a"])(vt,ut,pt,!1,null,"af4dfcee",null)),bt=ft.exports,mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"button",on:{click:t.decreaseScreen}},[t._v("Назад")])},ht=[],gt=function(t){Object(b["a"])(a,t);var e=Object(f["a"])(a);function a(){return Object(d["a"])(this,a),e.apply(this,arguments)}return a}(B);Object(m["a"])([g["c"]],gt.prototype,"decreaseScreen",void 0),gt=Object(m["a"])([h["a"]],gt);var Ot=gt,yt=Ot,jt=(a("fc72"),Object(r["a"])(yt,mt,ht,!1,null,"c6ae5282",null)),Ct=jt.exports,kt=function(t){Object(b["a"])(a,t);var e=Object(f["a"])(a);function a(){var t;return Object(d["a"])(this,a),t=e.apply(this,arguments),t.inputValue="",t}return Object(v["a"])(a,[{key:"mounted",value:function(){var t=Object(K["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$gmapApiPromiseLazy().then((function(){e.geocoder=new window.google.maps.Geocoder,e.fetchGeolocation()}));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"fetchGeolocation",value:function(){var t=this,e={enableHighAccuracy:!0,timeout:1/0,maximumAge:0},a=function(){var e=Object(K["a"])(regeneratorRuntime.mark((function e(a){var n,i,s,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=a.coords,console.log("Geocoding accuracy: ".concat(n.accuracy," meters.")),i=function(e){var a=e.lat,n=e.lng;return new Promise((function(e,i){t.geocoder.geocode({location:{lat:a,lng:n}},(function(t,a){"OK"===a?e(t):i(a)}))}))},e.next=5,i({lat:n.latitude,lng:n.longitude});case 5:s=e.sent,r=s[0].formatted_address.split(",").slice(0,3).join(","),o={name:r,position:{lat:s[0].geometry.location.lat(),lng:s[0].geometry.location.lng()}},t.updateDeparturePoint(o),sessionStorage.setItem("departurePoint",JSON.stringify(o)),t.inputValue=r;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=function(t){console.warn("ERROR(".concat(t.code,"): ").concat(t.message))};navigator.geolocation.getCurrentPosition(a,n,e)}},{key:"changeDeparturePoint",value:function(t){this.updateDeparturePoint(t),sessionStorage.setItem("departurePoint",JSON.stringify(t))}}]),a}(h["c"]);Object(m["a"])([g["b"]],kt.prototype,"points",void 0),Object(m["a"])([g["b"]],kt.prototype,"pointNames",void 0),Object(m["a"])([g["c"]],kt.prototype,"updateDeparturePoint",void 0),kt=Object(m["a"])([Object(h["a"])({components:{MFCLogo:M,BaseInputWithAutocomplete:lt,BaseDatalist:bt,PrevButton:Ct,NextButton:A}})],kt);var wt=kt,xt=wt,Mt=(a("0d3f"),Object(r["a"])(xt,J,H,!1,null,"4000c547",null)),St=Mt.exports,Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"screen-inner"},[a("MFCLogo"),t._m(0),a("TravelWayGroup",{attrs:{"is-disabled":!1},on:{select:function(e){t.isDisabled=!1}}}),a("div",{staticClass:"button-group"},[a("PrevButton"),a("NextButton",{attrs:{"is-disabled":t.isDisabled}})],1)],1)},Dt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("h2",{staticClass:"title__text"},[t._v(" Выбор способа передвижения ")])])}],$t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["travel-ways-group",t.isDisabled?"disabled":""]},[n("IconTravelWay",{attrs:{"is-disabled":t.isDisabled,name:"walking"},on:{changeTravelWay:function(e){return t.changeTravelWay(e)}}},[n("img",{class:{"travel-ways-group__item__image":!0,active:"walking"===t.travelWay,disabled:t.isDisabled},attrs:{src:a("f58f"),alt:"Пешком"}}),n("span",{staticClass:"travel-ways-group__item__text"},[t._v("Пешком")])]),n("IconTravelWay",{attrs:{"is-disabled":t.isDisabled,name:"driving"},on:{changeTravelWay:function(e){return t.changeTravelWay(e)}}},[n("img",{class:{"travel-ways-group__item__image":!0,active:"driving"===t.travelWay,disabled:t.isDisabled},attrs:{src:a("6f88"),alt:"На машине"}}),n("span",{staticClass:"travel-ways-group__item__text"},[t._v("Авто")])]),n("IconTravelWay",{attrs:{"is-disabled":t.isDisabled,name:"transit"},on:{changeTravelWay:function(e){return t.changeTravelWay(e)}}},[n("img",{class:{"travel-ways-group__item__image":!0,active:"transit"===t.travelWay,disabled:t.isDisabled},attrs:{src:a("f0ab"),alt:"Общественным транспортом"}}),n("span",{staticClass:"travel-ways-group__item__text"},[t._v("Общественный транспорт")])])],1)},Wt=[],It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"travel-ways-group__item",attrs:{id:t.name},on:{click:t.clickHandler}},[t._t("default")],2)},Et=[],Tt=(a("b0c0"),function(t){Object(b["a"])(a,t);var e=Object(f["a"])(a);function a(){return Object(d["a"])(this,a),e.apply(this,arguments)}return Object(v["a"])(a,[{key:"clickHandler",value:function(){this.isDisabled||this.$emit("changeTravelWay",this.name)}}]),a}(h["c"]));Object(m["a"])([Object(h["b"])({type:String,required:!0})],Tt.prototype,"name",void 0),Object(m["a"])([Object(h["b"])({type:Boolean,required:!0})],Tt.prototype,"isDisabled",void 0),Tt=Object(m["a"])([h["a"]],Tt);var Bt=Tt,Rt=Bt,Nt=(a("b5cc"),Object(r["a"])(Rt,It,Et,!1,null,"030b2119",null)),Lt=Nt.exports,zt=function(t){Object(b["a"])(a,t);var e=Object(f["a"])(a);function a(){return Object(d["a"])(this,a),e.apply(this,arguments)}return Object(v["a"])(a,[{key:"changeTravelWay",value:function(t){this.updateTravelWay(t),sessionStorage.setItem("travelWay",t),this.$emit("select")}}]),a}(h["c"]);Object(m["a"])([Object(h["b"])({type:Boolean,required:!0})],zt.prototype,"isDisabled",void 0),Object(m["a"])([g["b"]],zt.prototype,"travelWay",void 0),Object(m["a"])([g["c"]],zt.prototype,"updateTravelWay",void 0),zt=Object(m["a"])([Object(h["a"])({components:{IconTravelWay:Lt}})],zt);var At=zt,Ut=At,Gt=(a("2793"),Object(r["a"])(Ut,$t,Wt,!1,null,"97bdd4b8",null)),qt=Gt.exports,Ft=function(t){Object(b["a"])(a,t);var e=Object(f["a"])(a);function a(){var t;return Object(d["a"])(this,a),t=e.apply(this,arguments),t.isNextButtonDisabled=null===sessionStorage.getItem("travelWay"),t}return Object(v["a"])(a,[{key:"isDisabled",get:function(){return this.isNextButtonDisabled},set:function(t){this.isNextButtonDisabled=t}}]),a}(h["c"]);Ft=Object(m["a"])([Object(h["a"])({components:{MFCLogo:M,BaseInput:it,PrevButton:Ct,NextButton:A,TravelWayGroup:qt}})],Ft);var Vt=Ft,Jt=Vt,Ht=(a("32a2"),Object(r["a"])(Jt,Pt,Dt,!1,null,"3f8f9bea",null)),Kt=Ht.exports,Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"screen-inner"},[a("MFCLogo"),t._m(0),t._m(1),a("div",{staticClass:"input"},[a("BaseDatalist",{attrs:{name:"select-service",data:["first","second","third","fourth","fifth","sixth"],placeholder:"Выберите услугу"},on:{select:t.changeService}})],1),a("div",{staticClass:"button-group"},[a("PrevButton"),a("NextButton")],1)],1)},Yt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("h2",{staticClass:"title__text"},[t._v(" Выбор услуги ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"description"},[a("h3",{staticClass:"description__text"},[t._v("* ДЛЯ БОЛЕЕ ТОЧНОГО РАСЧЁТА ВРЕМЕНИ РЕКОМЕНДУЕТСЯ выбрать необходимую услугу")])])}],Xt=function(t){Object(b["a"])(a,t);var e=Object(f["a"])(a);function a(){return Object(d["a"])(this,a),e.apply(this,arguments)}return Object(v["a"])(a,[{key:"changeService",value:function(t){this.updateService(t),sessionStorage.setItem("service",t)}}]),a}(h["c"]);Object(m["a"])([g["c"]],Xt.prototype,"updateService",void 0),Xt=Object(m["a"])([Object(h["a"])({components:{MFCLogo:M,BaseInput:it,BaseDatalist:bt,PrevButton:Ct,NextButton:A}})],Xt);var Zt=Xt,te=Zt,ee=(a("54f0"),Object(r["a"])(te,Qt,Yt,!1,null,"462aec88",null)),ae=ee.exports,ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"screen-inner"},[a("MFCLogo"),t._m(0),a("ScreenComputedResultInfo"),a("div",{staticClass:"change-data"},[a("button",{staticClass:"change-data__button",on:{click:function(e){return t.$emit("showModal")}}},[t._v(" Изменить данные для поиска ")])]),a("div",{staticClass:"map-placeholder"},[a("ScreenComputedResultMap")],1)],1)},ie=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ready"},[a("h2",{staticClass:"ready__text"},[t._v("Готово!")])])}],se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"info"},[t._m(0),n("section",{staticClass:"info__data"},[n("h2",{staticClass:"info__data__header"},[t._v("Наиболее удобное отделение")]),n("div",{staticClass:"info__data__details"},[n("h3",{staticClass:"info__data__details__header"},[t._v(t._s(t.bestOption.name.split(",").slice(1,3).join(", ").replace("ул.","")))]),n("span",{staticClass:"info__data__details__phone"},[t._v("+7 (423) 201-01-56")]),n("span",{staticClass:"info__data__details__estimated-time"},[n("span",{staticClass:"big"},[t._v("Дорога до отделения")]),n("br"),t._v(" и "),n("span",{staticClass:"big"},[t._v("получение услуги")]),t._v(" займут около "),n("span",{staticClass:"time"},[t._v("~"+t._s(t.bestOption.time)+" "+t._s(t.wordDeclension))])])]),n("section",{staticClass:"info__data__statistics"},[n("h2",{staticClass:"info__data__statistics__header"},[t._v("Статистика загруженности")]),n("div",{staticClass:"info__data__statistics__list"},[n("div",{staticClass:"info__data__statistics__list__item"},[n("span",{staticClass:"info__data__statistics__list__item__header"},[t._v(" В очереди: ")]),n("div",{staticClass:"info__data__statistics__list__item__data"},[n("img",{staticClass:"info__data__statistics__list__item__data__image",attrs:{src:a("bdd2"),alt:""}}),n("span",{staticClass:"info__data__statistics__list__item__data__amount"},[t._v(t._s(t.statistics.pendingTicketsCount||0))])])]),n("div",{staticClass:"info__data__statistics__list__item"},[n("span",{staticClass:"info__data__statistics__list__item__header"},[t._v(" Обслужено сегодня: ")]),n("div",{staticClass:"info__data__statistics__list__item__data"},[n("img",{staticClass:"info__data__statistics__list__item__data__image",attrs:{src:a("bdd2"),alt:""}}),n("span",{staticClass:"info__data__statistics__list__item__data__amount"},[t._v(t._s(t.statistics.completedTicketsCount||0))])])])])])])])},re=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("aside",{staticClass:"info__logo"},[n("img",{staticClass:"info__logo__image",attrs:{src:a("4523"),alt:""}})])}],oe=function(t){Object(b["a"])(a,t);var e=Object(f["a"])(a);function a(){return Object(d["a"])(this,a),e.apply(this,arguments)}return Object(v["a"])(a,[{key:"wordDeclension",get:function(){var t=Math.floor(this.bestOption.time/10);switch(this.bestOption.time%10){case 1:return 1===t?"минут":"минута";case 2:case 3:case 4:return 1===t?"минут":"минуты";default:return"минут"}}}]),a}(h["c"]);Object(m["a"])([g["b"]],oe.prototype,"bestOption",void 0),Object(m["a"])([g["b"]],oe.prototype,"statistics",void 0),oe=Object(m["a"])([h["a"]],oe);var ce=oe,le=ce,ue=(a("c295"),Object(r["a"])(le,se,re,!1,null,"e6f50dd2",null)),pe=ue.exports,_e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("GmapMap",{ref:"map",staticStyle:{width:"100%",height:"100%"},attrs:{center:t.departurePoint.position,zoom:t.zoom,options:t.mapOptions}},[a("GmapMarker",{attrs:{position:t.departurePoint.position,clickable:!1,draggable:!1,icon:t.userMarker}})],1)},de=[],ve=(a("4160"),a("d81d"),a("a9e3"),a("159b"),function(t){Object(b["a"])(n,t);var e=Object(f["a"])(n);function n(){var t;return Object(d["a"])(this,n),t=e.apply(this,arguments),t.userMarker={url:a("ed4a"),size:{width:52,height:52,f:"px",b:"px"}},t.mfcMarkerGreen={url:a("040d"),size:{width:52,height:52,f:"px",b:"px"},scaledSize:{width:36,height:36,f:"px",b:"px"}},t.mfcMarkerYellow={url:a("2280"),size:{width:52,height:52,f:"px",b:"px"},scaledSize:{width:36,height:36,f:"px",b:"px"}},t.mfcMarkerRed={url:a("52b6"),size:{width:52,height:52,f:"px",b:"px"},scaledSize:{width:36,height:36,f:"px",b:"px"}},t}return Object(v["a"])(n,[{key:"marker",value:function(){var t=Math.round(3*Math.random());switch(t){case 1:return this.mfcMarkerGreen;case 2:return this.mfcMarkerYellow;default:return this.mfcMarkerRed}}}]),n}(h["c"]));ve=Object(m["a"])([h["a"]],ve);var fe=ve,be=function(t){Object(b["a"])(a,t);var e=Object(f["a"])(a);function a(){var t;return Object(d["a"])(this,a),t=e.apply(this,arguments),t.zoom=14,t.mapOptions={zoomControl:!0,mapTypeControl:!1,scaleControl:!0,streetViewControl:!1,rotateControl:!1,fullscreenControl:!1},t}return Object(v["a"])(a,[{key:"onDeparturePointChange",value:function(){this.recalculate()}},{key:"onTravelWayChange",value:function(){this.recalculate()}},{key:"onServiceChange",value:function(){this.recalculate()}},{key:"mounted",value:function(){var t=Object(K["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.lockUI(),t.next=3,this.$refs.map.$mapPromise;case 3:return t.next=5,this.fetchStatistics();case 5:return t.next=7,this.initMap();case 7:return t.next=9,this.calculateOptionsTime();case 9:return t.next=11,this.drawRoute();case 11:this.unlockUI();case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"initMap",value:function(){var t=Object(K["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){e.trafficLayer=new window.google.maps.TrafficLayer,e.trafficLayer.setMap(e.$refs.map.$mapObject),e.directionsService=new window.google.maps.DirectionsService,e.directionsDisplay=new window.google.maps.DirectionsRenderer,e.directionsDisplay.setMap(e.$refs.map.$mapObject),e.directionsDisplay.setOptions({suppressMarkers:!0}),t()})));case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"recalculate",value:function(){var t=Object(K["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return sessionStorage.removeItem("possibleOptions"),this.lockUI(),t.next=4,this.calculateOptionsTime();case 4:return t.next=6,this.drawRoute();case 6:this.unlockUI();case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"calculateOptionsTime",value:function(){var t=Object(K["a"])(regeneratorRuntime.mark((function t(){var e,a,n,i,s,r,o,c=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=sessionStorage.getItem("possibleOptions"),null===e){t.next=7;break}a=JSON.parse(e),a.forEach((function(t){new window.google.maps.Marker({icon:c.marker(),map:c.$refs.map.$mapObject,position:t.position})})),this.updatePossibleOptions(a),t.next=23;break;case 7:this.geocoder=new window.google.maps.Geocoder,n=Array(),i=function(t){return new Promise((function(e,a){var n={lat:t.lat,lng:t.lan};new window.google.maps.Marker({icon:c.marker(),map:c.$refs.map.$mapObject,position:n}),c.directionsService.route({origin:c.departurePoint.position,destination:n,travelMode:c.travelWay.toUpperCase()},(function(t,n){"OK"===n?e(t):a(n)}))}))},s=function(t,e,a){return new Promise((function(i){var s=Math.ceil(a.routes[0].legs[0].duration.value/60);console.log("".concat(t," estimatedTime: ").concat(s," minutes")),n.push({name:t,time:Number(s),position:{lat:e.lat,lng:e.lan}}),i()}))},r=0;case 12:if(!(r<this.nearestCenters.length)){t.next=21;break}return t.next=15,i(this.nearestCenters[r]);case 15:return o=t.sent,t.next=18,s(this.nearestCenters[r].organizationAddress,this.nearestCenters[r],o);case 18:r++,t.next=12;break;case 21:this.updatePossibleOptions(n),sessionStorage.setItem("possibleOptions",JSON.stringify(n));case 23:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"drawRoute",value:function(){var t=Object(K["a"])(regeneratorRuntime.mark((function t(){var e,a,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=function(){return new Promise((function(t,e){n.directionsService.route({origin:n.departurePoint.position,destination:n.bestOption.position,travelMode:n.travelWay.toUpperCase()},(function(a,n){"OK"===n?t(a):e("Directions request failed due to ".concat(n))}))}))},console.log("drawRoute bestOption:",this.bestOption),t.next=4,e();case 4:a=t.sent,this.directionsDisplay.setDirections(a);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),a}(fe);Object(m["a"])([g["b"]],be.prototype,"departurePoint",void 0),Object(m["a"])([g["b"]],be.prototype,"travelWay",void 0),Object(m["a"])([g["b"]],be.prototype,"service",void 0),Object(m["a"])([g["b"]],be.prototype,"nearestCenters",void 0),Object(m["a"])([g["b"]],be.prototype,"bestOption",void 0),Object(m["a"])([g["c"]],be.prototype,"updatePossibleOptions",void 0),Object(m["a"])([g["c"]],be.prototype,"lockUI",void 0),Object(m["a"])([g["c"]],be.prototype,"unlockUI",void 0),Object(m["a"])([g["a"]],be.prototype,"fetchStatistics",void 0),Object(m["a"])([Object(h["d"])("departurePoint")],be.prototype,"onDeparturePointChange",null),Object(m["a"])([Object(h["d"])("travelWay")],be.prototype,"onTravelWayChange",null),Object(m["a"])([Object(h["d"])("service")],be.prototype,"onServiceChange",null),be=Object(m["a"])([h["a"]],be);var me=be,he=me,ge=Object(r["a"])(he,_e,de,!1,null,"5642958c",null),Oe=ge.exports,ye=function(t){Object(b["a"])(a,t);var e=Object(f["a"])(a);function a(){return Object(d["a"])(this,a),e.apply(this,arguments)}return a}(h["c"]);Object(m["a"])([g["b"]],ye.prototype,"bestOption",void 0),ye=Object(m["a"])([Object(h["a"])({components:{MFCLogo:M,ScreenComputedResultInfo:pe,ScreenComputedResultMap:Oe}})],ye);var je=ye,Ce=je,ke=(a("8a2f"),Object(r["a"])(Ce,ne,ie,!1,null,"3d87392c",null)),we=ke.exports,xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"other-options"},[a("h2",{staticClass:"other-options__header"},[t._v("Другие варианты")]),a("div",{staticClass:"other-options__list"},t._l(t.possibleOptions,(function(t,e){return a("ScreenOtherOptionsItem",{key:e,attrs:{street:t.name.split(",").slice(1,3).join(", ").replace("ул.",""),"estimated-time":t.time}})})),1),t._m(0)])},Me=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"appointment"},[a("h2",{staticClass:"appointment__header"},[t._v(" Если вы не нашли для себя подходящего варианта, "),a("br"),t._v(" можно перенести посещение мфц ")]),a("button",{staticClass:"appointment__button"},[t._v(" Записаться на более удобное время ")])])}],Se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"other-options__list__item"},[n("img",{staticClass:"other-options__list__item__image",attrs:{src:a("4523"),alt:""}}),n("div",{staticClass:"other-options__list__item__info"},[n("h3",{staticClass:"other-options__list__item__info__street"},[t._v(t._s(t.street))]),n("span",{staticClass:"other-options__list__item__info__estimated-time"},[t._v(" получение услуги займет примерно "),n("span",{staticClass:"time"},[t._v("~"+t._s(t.estimatedTime)+" "+t._s(t.wordDeclension))])])])])},Pe=[],De=function(t){Object(b["a"])(a,t);var e=Object(f["a"])(a);function a(){return Object(d["a"])(this,a),e.apply(this,arguments)}return Object(v["a"])(a,[{key:"wordDeclension",get:function(){var t=Math.floor(this.estimatedTime/10);switch(this.estimatedTime%10){case 1:return 1===t?"минут":"минута";case 2:case 3:case 4:return 1===t?"минут":"минуты";default:return"минут"}}}]),a}(h["c"]);Object(m["a"])([Object(h["b"])({type:String,required:!0})],De.prototype,"street",void 0),Object(m["a"])([Object(h["b"])({type:Number,required:!0})],De.prototype,"estimatedTime",void 0),De=Object(m["a"])([h["a"]],De);var $e=De,We=$e,Ie=(a("4bec"),Object(r["a"])(We,Se,Pe,!1,null,"935b384e",null)),Ee=Ie.exports,Te=function(t){Object(b["a"])(a,t);var e=Object(f["a"])(a);function a(){return Object(d["a"])(this,a),e.apply(this,arguments)}return a}(h["c"]);Object(m["a"])([g["b"]],Te.prototype,"possibleOptions",void 0),Te=Object(m["a"])([Object(h["a"])({components:{ScreenOtherOptionsItem:Ee}})],Te);var Be=Te,Re=Be,Ne=(a("54d7"),Object(r["a"])(Re,xe,Me,!1,null,"26de8116",null)),Le=Ne.exports,ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal"},[t._m(0),a("div",{staticClass:"modal__options-list"},[a("div",{staticClass:"modal__options-list__item"},[a("h3",{staticClass:"modal__options-list__item__header"},[t._v("Адрес отправления")]),a("div",{staticClass:"modal__options-list__item__control"},[a("span",{staticClass:"modal__options-list__item__control__header"},[t._v(t._s(t.departurePoint.name))]),a("button",{staticClass:"modal__options-list__item__control__button",on:{click:function(e){return t.$emit("selectModal","departure-point")}}},[t._v("Изменить ")])])]),a("div",{staticClass:"modal__options-list__item"},[a("h3",{staticClass:"modal__options-list__item__header"},[t._v("Способ передвижения")]),a("div",{staticClass:"modal__options-list__item__control"},[a("span",{staticClass:"modal__options-list__item__control__header"},[t._v(t._s(t.localizedTravelWay))]),a("button",{staticClass:"modal__options-list__item__control__button",on:{click:function(e){return t.$emit("selectModal","travel-way")}}},[t._v("Изменить ")])])]),a("div",{staticClass:"modal__options-list__item"},[a("h3",{staticClass:"modal__options-list__item__header"},[t._v("Услуга")]),a("div",{staticClass:"modal__options-list__item__control"},[a("span",{staticClass:"modal__options-list__item__control__header"},[t._v(t._s(t.service))]),a("button",{staticClass:"modal__options-list__item__control__button",on:{click:function(e){return t.$emit("selectModal","service")}}},[t._v("Изменить ")])])])]),a("button",{staticClass:"modal__button-close",on:{click:function(e){return t.$emit("closeModal")}}},[t._v("x ")])])])},Ae=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h2",{staticClass:"modal__header"},[n("img",{staticClass:"modal__header__icon",attrs:{src:a("b480"),alt:""}}),t._v(" Изменение параметров выбора ")])}],Ue=(a("498a"),function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),Ge=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal"})])}],qe=function(t){Object(b["a"])(a,t);var e=Object(f["a"])(a);function a(){var t;return Object(d["a"])(this,a),t=e.apply(this,arguments),t.isChanging=!1,t}return a}(h["c"]);qe=Object(m["a"])([h["a"]],qe);var Fe=qe,Ve=Fe,Je=(a("7ac0"),Object(r["a"])(Ve,Ue,Ge,!1,null,"68bc03fb",null)),He=Je.exports,Ke=function(t){Object(b["a"])(a,t);var e=Object(f["a"])(a);function a(){return Object(d["a"])(this,a),e.apply(this,arguments)}return Object(v["a"])(a,[{key:"localizedTravelWay",get:function(){switch(this.travelWay.trim().toLowerCase()){case"walking":return"пешком";case"driving":return"автомобиль";case"transit":return"общественный транспорт";default:return""}}}]),a}(He);Object(m["a"])([g["b"]],Ke.prototype,"departurePoint",void 0),Object(m["a"])([g["b"]],Ke.prototype,"travelWay",void 0),Object(m["a"])([g["b"]],Ke.prototype,"service",void 0),Ke=Object(m["a"])([h["a"]],Ke);var Qe=Ke,Ye=Qe,Xe=(a("e924"),Object(r["a"])(Ye,ze,Ae,!1,null,"73ec99a2",null)),Ze=Xe.exports,ta=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal"},[t._m(0),a("div",{staticClass:"modal__options-list"},[a("div",{staticClass:"modal__options-list__item"},[a("h3",{staticClass:"modal__options-list__item__header"},[t._v("Адрес отправления")]),a("div",{staticClass:"modal__options-list__item__control"},[a("span",{staticClass:"modal__options-list__item__control__header"},[t._v(t._s(t.departurePoint.name))]),a("button",{staticClass:"modal__options-list__item__control__button",on:{click:function(e){t.isChanging=!t.isChanging}}},[t._v(" Изменить ")])])])]),a("div",{staticClass:"modal__search"},[a("BaseDatalist",{staticClass:"modal__search__input",attrs:{data:t.points.map((function(t){return t.name})),"is-disabled":!t.isChanging,name:"select-departure-point"},on:{select:t.changeDeparturePoint}}),a("button",{staticClass:"modal__search__button-submit",attrs:{disabled:!t.isChanging},on:{click:t.submit}},[t._v("Сохранить ")])],1),a("button",{staticClass:"modal__button-close",on:{click:function(e){return t.$emit("closeModal")}}},[t._v(" x ")])])])},ea=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h2",{staticClass:"modal__header"},[n("img",{staticClass:"modal__header__icon",attrs:{src:a("b480"),alt:""}}),t._v(" Изменение адреса отправления ")])}],aa=(a("7db0"),function(t){Object(b["a"])(a,t);var e=Object(f["a"])(a);function a(){var t;return Object(d["a"])(this,a),t=e.apply(this,arguments),t.currentDeparturePoint=t.departurePoint,t}return Object(v["a"])(a,[{key:"changeDeparturePoint",value:function(t){var e=this.points.find((function(e){return e.name===t.trim()}));void 0!==e&&(this.currentDeparturePoint=e)}},{key:"submit",value:function(){this.updateDeparturePoint(this.currentDeparturePoint),sessionStorage.setItem("departurePoint",JSON.stringify(this.currentDeparturePoint)),this.isChanging=!1}}]),a}(He));Object(m["a"])([g["b"]],aa.prototype,"points",void 0),Object(m["a"])([g["b"]],aa.prototype,"departurePoint",void 0),Object(m["a"])([g["c"]],aa.prototype,"updateDeparturePoint",void 0),aa=Object(m["a"])([Object(h["a"])({components:{BaseDatalist:bt}})],aa);var na=aa,ia=na,sa=(a("5963"),Object(r["a"])(ia,ta,ea,!1,null,"46c7b348",null)),ra=sa.exports,oa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal"},[t._m(0),a("div",{staticClass:"modal__options-list"},[a("div",{staticClass:"modal__options-list__item"},[a("h3",{staticClass:"modal__options-list__item__header"},[t._v("Способ передвижения")]),a("div",{staticClass:"modal__options-list__item__control"},[a("span",{staticClass:"modal__options-list__item__control__header"},[t._v(t._s(t.localizedTravelWay))]),a("button",{staticClass:"modal__options-list__item__control__button",on:{click:function(e){t.isChanging=!t.isChanging}}},[t._v(" Изменить ")])])])]),a("div",{staticClass:"modal__change-travel-way"},[a("TravelWayGroup",{staticClass:"modal__change-travel-way__group",attrs:{"is-disabled":!t.isChanging}}),a("button",{staticClass:"modal__change-travel-way__button-submit",attrs:{disabled:!t.isChanging},on:{click:function(e){t.isChanging=!t.isChanging}}},[t._v(" Сохранить ")])],1),a("button",{staticClass:"modal__button-close",on:{click:function(e){return t.$emit("closeModal")}}},[t._v("x")])])])},ca=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h2",{staticClass:"modal__header"},[n("img",{staticClass:"modal__header__icon",attrs:{src:a("b480"),alt:""}}),t._v(" Изменение способа передвижения ")])}],la=function(t){Object(b["a"])(a,t);var e=Object(f["a"])(a);function a(){return Object(d["a"])(this,a),e.apply(this,arguments)}return Object(v["a"])(a,[{key:"localizedTravelWay",get:function(){switch(this.travelWay.trim().toLowerCase()){case"walking":return"пешком";case"driving":return"автомобиль";case"transit":return"общественный транспорт";default:return""}}}]),a}(He);Object(m["a"])([g["b"]],la.prototype,"travelWay",void 0),la=Object(m["a"])([Object(h["a"])({components:{TravelWayGroup:qt}})],la);var ua=la,pa=ua,_a=(a("328f"),Object(r["a"])(pa,oa,ca,!1,null,"40249461",null)),da=_a.exports,va=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal"},[t._m(0),a("div",{staticClass:"modal__options-list"},[a("div",{staticClass:"modal__options-list__item"},[a("h3",{staticClass:"modal__options-list__item__header"},[t._v("Услуга")]),a("div",{staticClass:"modal__options-list__item__control"},[a("span",{staticClass:"modal__options-list__item__control__header"},[t._v(t._s(t.service))]),a("button",{staticClass:"modal__options-list__item__control__button",on:{click:function(e){t.isChanging=!t.isChanging}}},[t._v(" Изменить ")])])])]),a("div",{staticClass:"modal__search"},[a("BaseDatalist",{staticClass:"modal__search__input",attrs:{data:["first","second","third","fourth","fifth","sixth"],"is-disabled":!t.isChanging,name:"select-service"},on:{select:t.changeService}}),a("button",{staticClass:"modal__search__button-submit",attrs:{disabled:!t.isChanging},on:{click:t.submit}},[t._v(" Сохранить ")])],1),a("button",{staticClass:"modal__button-close",on:{click:function(e){return t.$emit("closeModal")}}},[t._v("x")])])])},fa=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h2",{staticClass:"modal__header"},[n("img",{staticClass:"modal__header__icon",attrs:{src:a("b480"),alt:""}}),t._v(" Изменение услуги ")])}],ba=function(t){Object(b["a"])(a,t);var e=Object(f["a"])(a);function a(){var t;return Object(d["a"])(this,a),t=e.apply(this,arguments),t.currentService=t.service,t}return Object(v["a"])(a,[{key:"changeService",value:function(t){this.currentService=t}},{key:"submit",value:function(){this.updateService(this.currentService),sessionStorage.setItem("service",JSON.stringify(this.currentService)),this.isChanging=!1}}]),a}(He);Object(m["a"])([g["b"]],ba.prototype,"service",void 0),Object(m["a"])([g["c"]],ba.prototype,"updateService",void 0),ba=Object(m["a"])([Object(h["a"])({components:{BaseDatalist:bt}})],ba);var ma=ba,ha=ma,ga=(a("38bd"),Object(r["a"])(ha,va,fa,!1,null,"021dd988",null)),Oa=ga.exports,ya=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ja=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"preloader-wrapper"},[a("div",{staticClass:"lds-ring"},[a("div"),a("div"),a("div"),a("div")])])}],Ca=function(t){Object(b["a"])(a,t);var e=Object(f["a"])(a);function a(){return Object(d["a"])(this,a),e.apply(this,arguments)}return a}(h["c"]);Ca=Object(m["a"])([h["a"]],Ca);var ka=Ca,wa=ka,xa=(a("e8c3"),Object(r["a"])(wa,ya,ja,!1,null,"12e3133b",null)),Ma=xa.exports,Sa=function(t){Object(b["a"])(a,t);var e=Object(f["a"])(a);function a(){var t;return Object(d["a"])(this,a),t=e.apply(this,arguments),t.isMainModalVisible=!1,t.activeModal="",t}return Object(v["a"])(a,[{key:"created",value:function(){var t=sessionStorage.getItem("departurePoint");null!==t&&this.updateDeparturePoint(JSON.parse(t));var e=sessionStorage.getItem("travelWay");null!==e&&this.updateTravelWay(e);var a=sessionStorage.getItem("service");null!==a&&this.updateService(a),console.log("hasCachedData:",this.hasCachedData)}},{key:"mounted",value:function(){var t=this;document.addEventListener("click",(function(e){(t.isMainModalVisible||""!==t.activeModal)&&e.target.classList.contains("modal-wrapper")&&(t.isMainModalVisible=!1,t.activeModal="")}))}},{key:"showModal",value:function(){this.isMainModalVisible=!0}},{key:"selectModal",value:function(t){this.isMainModalVisible=!1,this.activeModal=t}},{key:"closeModal",value:function(){this.activeModal="",this.isMainModalVisible=!1}},{key:"hasCachedData",get:function(){return null!==sessionStorage.getItem("possibleOptions")&&null!==sessionStorage.getItem("departurePoint")&&null!==sessionStorage.getItem("travelWay")&&null!==sessionStorage.getItem("service")}}]),a}(h["c"]);Object(m["a"])([g["b"]],Sa.prototype,"screen",void 0),Object(m["a"])([g["b"]],Sa.prototype,"isUILocked",void 0),Object(m["a"])([g["c"]],Sa.prototype,"updateDeparturePoint",void 0),Object(m["a"])([g["c"]],Sa.prototype,"updateTravelWay",void 0),Object(m["a"])([g["c"]],Sa.prototype,"updateService",void 0),Sa=Object(m["a"])([Object(h["a"])({components:{ScreenHome:V,ScreenSelectDeparturePoint:St,ScreenSelectTravelWay:Kt,ScreenSelectService:ae,ScreenComputedResult:we,ScreenOtherOptions:Le,ModalChangeSelectionOptions:Ze,ModalChangeDeparturePoint:ra,ModalChangeTravelWay:da,ModalChangeService:Oa,BasePreloader:Ma}})],Sa);var Pa=Sa,Da=Pa,$a=(a("6e21"),Object(r["a"])(Da,p,_,!1,null,"26625597",null)),Wa=$a.exports;n["a"].use(u["a"]);var Ia=[{path:"/",name:"Home",component:Wa}],Ea=new u["a"]({mode:"history",base:"/",routes:Ia}),Ta=Ea,Ba=a("2f62"),Ra={state:{screen:0},mutations:{increaseScreen:function(t){t.screen+=1},decreaseScreen:function(t){t.screen-=1}},getters:{screen:function(t){return t.screen}}},Na=(a("c740"),a("2909")),La={state:{departurePoint:"",points:[{name:"Сквер им. Суханова",position:{lat:43.118096,lng:131.891598}},{name:"Покровский парк",position:{lat:43.125259,lng:131.892088}},{name:"Набережная Спортивной гавани",position:{lat:43.117884,lng:131.877352}},{name:'Сквер "Писательский"',position:{lat:43.12988,lng:131.909459}},{name:"Военно-исторический музей Тихоокеанского флота",position:{lat:43.112769,lng:131.890472}}]},mutations:{updateDeparturePoint:function(t,e){t.departurePoint=e,console.log("current departure point:",t.departurePoint);var a=t.points.findIndex((function(t){return t.name===e.name}));-1===a?n["a"].set(t,"points",[e].concat(Object(Na["a"])(t.points))):n["a"].set(t.points,a,e)}},getters:{departurePoint:function(t){return t.departurePoint},points:function(t){return t.points},pointNames:function(t){return t.points.map((function(t){return t.name}))}}},za={state:{travelWay:""},mutations:{updateTravelWay:function(t,e){t.travelWay=e,console.log(t.travelWay)}},getters:{travelWay:function(t){return t.travelWay}}},Aa={state:{service:""},mutations:{updateService:function(t,e){t.service=e,console.log(t.service)}},getters:{service:function(t){return t.service}}},Ua=a("5530");function Ga(t,e,a,n,i){if(t==a&&e==n)return 0;var s=Math.PI*t/180,r=Math.PI*a/180,o=e-n,c=Math.PI*o/180,l=Math.sin(s)*Math.sin(r)+Math.cos(s)*Math.cos(r)*Math.cos(c);return l>1&&(l=1),l=Math.acos(l),l=180*l/Math.PI,l=60*l*1.1515,"K"===i&&(l*=1.609344),"N"===i&&(l*=.8684),l}var qa={state:{statistics:{},nearestCenters:[]},actions:{fetchStatistics:function(t){return Object(K["a"])(regeneratorRuntime.mark((function e(){var a,n,i,s,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,n=t.rootState,e.next=3,fetch("/api/mfcs");case 3:return i=e.sent,e.next=6,i.json();case 6:s=e.sent,r=s.body,console.log("statistics:",r),o=r.map((function(t){var e=n.departurePoint.departurePoint.position,a=e.lat,i=e.lng;return Object(Ua["a"])({},t,{distance:Ga(a,i,t.lat,t.lan,"k")})})).sort((function(t,e){return t.distance-e.distance})).slice(0,5),a("updateNearestCenters",o);case 11:case"end":return e.stop()}}),e)})))()}},mutations:{updateStatistics:function(t,e){t.statistics=e,console.log(t.statistics)},updateNearestCenters:function(t,e){t.nearestCenters=e,console.log("state.nearestCenters:",t.nearestCenters)}},getters:{statistics:function(t){return t.statistics},nearestCenters:function(t){return t.nearestCenters}}},Fa={state:{possibleOptions:[]},actions:{},mutations:{updatePossibleOptions:function(t,e){t.possibleOptions=e.sort((function(t,e){return t.time-e.time})),console.log("state.possibleOptions:",t.possibleOptions)}},getters:{possibleOptions:function(t){return console.log("possible options current state:",t.possibleOptions),t.possibleOptions.slice(1,5)},bestOption:function(t){return 0===t.possibleOptions.length?{name:"Владивосток, Неизвестная, 99",time:99}:t.possibleOptions[0]},length:function(t){return t.possibleOptions.length}}},Va={state:{lockingPool:!1},mutations:{lockUI:function(t){return t.lockingPool=!0},unlockUI:function(t){return t.lockingPool=!1}},getters:{isUILocked:function(t){return t.lockingPool}}};n["a"].use(Ba["a"]);var Ja=new Ba["a"].Store({modules:{screens:Ra,departurePoint:La,travelWay:za,service:Aa,statistics:qa,possibleOptions:Fa,lockingPool:Va}}),Ha=a("755e");n["a"].config.productionTip=!1,n["a"].use(Ha,{load:{key:"AIzaSyC0zt4dGxQo4j_dt9z8dofi1UHQOApc8S0",libraries:["directions","places","geocoder"],region:"RU",language:"ru"}}),new n["a"]({router:Ta,store:Ja,render:function(t){return t(l)}}).$mount("#app")},d702:function(t,e,a){t.exports=a.p+"img/search-icon.svg"},dcf9:function(t,e,a){},e12e:function(t,e,a){},e8c3:function(t,e,a){"use strict";var n=a("8b1b"),i=a.n(n);i.a},e924:function(t,e,a){"use strict";var n=a("f937"),i=a.n(n);i.a},ec40:function(t,e,a){},ecd5:function(t,e,a){"use strict";var n=a("dcf9"),i=a.n(n);i.a},ed4a:function(t,e,a){t.exports=a.p+"img/human-geo-icon.svg"},f0ab:function(t,e,a){t.exports=a.p+"img/bus-icon.svg"},f4ce:function(t,e,a){},f58f:function(t,e,a){t.exports=a.p+"img/afoot-icon.svg"},f858:function(t,e,a){"use strict";var n=a("937c"),i=a.n(n);i.a},f937:function(t,e,a){},fc72:function(t,e,a){"use strict";var n=a("3255"),i=a.n(n);i.a}});